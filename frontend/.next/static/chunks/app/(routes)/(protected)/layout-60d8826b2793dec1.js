(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{4760:function(e,t,r){Promise.resolve().then(r.bind(r,8502))},8502:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),a=r(2265),l=r(9376),n=r(4190),o=r(7981);function i(e){let{children:t}=e,{isAuthenticated:r,isLoading:i}=(0,n.a)(),c=(0,l.useRouter)();return((0,a.useEffect)(()=>{if(!i&&!r){let e=window.location.pathname;e&&"/auth/login"!==e&&"/auth/register"!==e&&localStorage.setItem("redirectAfterLogin",e),c.push("/auth/login")}},[r,i,c]),i)?(0,s.jsx)(o.Z,{children:(0,s.jsx)("div",{className:"flex justify-center items-center h-[60vh]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-500"})})}):r?(0,s.jsx)(o.Z,{children:t}):null}},7981:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var s=r(7437),a=r(7648),l=r(9763);let n=(0,l.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),o=(0,l.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),i=(0,l.Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);function c(){return(0,s.jsx)("footer",{className:"bg-white border-t border-gray-200",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-12",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6 sm:gap-8 mb-6 sm:mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold mb-3 sm:mb-4 text-xs sm:text-sm text-gray-900",children:"Shop"}),(0,s.jsxs)("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/stores",className:"text-gray-600 hover:text-green-600",children:"All Stores"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/stores",className:"text-gray-600 hover:text-green-600",children:"Grocery"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/stores",className:"text-gray-600 hover:text-green-600",children:"Alcohol"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/stores",className:"text-gray-600 hover:text-green-600",children:"Convenience"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold mb-3 sm:mb-4 text-xs sm:text-sm text-gray-900",children:"Account"}),(0,s.jsxs)("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/auth/login",className:"text-gray-600 hover:text-green-600",children:"Sign in"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/auth/register",className:"text-gray-600 hover:text-green-600",children:"Sign up"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/orders",className:"text-gray-600 hover:text-green-600",children:"Your orders"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/cart",className:"text-gray-600 hover:text-green-600",children:"Your cart"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold mb-3 sm:mb-4 text-xs sm:text-sm text-gray-900",children:"Company"}),(0,s.jsxs)("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/about",className:"text-gray-600 hover:text-green-600",children:"About us"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/careers",className:"text-gray-600 hover:text-green-600",children:"Careers"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/press",className:"text-gray-600 hover:text-green-600",children:"Press"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/blog",className:"text-gray-600 hover:text-green-600",children:"Blog"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold mb-3 sm:mb-4 text-xs sm:text-sm text-gray-900",children:"Support"}),(0,s.jsxs)("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/help",className:"text-gray-600 hover:text-green-600",children:"Help center"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/contact",className:"text-gray-600 hover:text-green-600",children:"Contact us"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/safety",className:"text-gray-600 hover:text-green-600",children:"Safety"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/faq",className:"text-gray-600 hover:text-green-600",children:"FAQs"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold mb-3 sm:mb-4 text-xs sm:text-sm text-gray-900",children:"Legal"}),(0,s.jsxs)("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/terms",className:"text-gray-600 hover:text-green-600",children:"Terms"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/privacy",className:"text-gray-600 hover:text-green-600",children:"Privacy"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:"/cookies",className:"text-gray-600 hover:text-green-600",children:"Cookies"})})]})]}),(0,s.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,s.jsx)("h4",{className:"font-bold mb-3 sm:mb-4 text-xs sm:text-sm text-gray-900",children:"Follow us"}),(0,s.jsxs)("div",{className:"flex space-x-3 sm:space-x-4",children:[(0,s.jsx)(a.default,{href:"#",className:"text-gray-600 hover:text-green-600 transition p-2 hover:bg-gray-100 rounded-lg active:scale-95 touch-manipulation",children:(0,s.jsx)(n,{size:18,className:"sm:w-5 sm:h-5"})}),(0,s.jsx)(a.default,{href:"#",className:"text-gray-600 hover:text-green-600 transition p-2 hover:bg-gray-100 rounded-lg active:scale-95 touch-manipulation",children:(0,s.jsx)(o,{size:18,className:"sm:w-5 sm:h-5"})}),(0,s.jsx)(a.default,{href:"#",className:"text-gray-600 hover:text-green-600 transition p-2 hover:bg-gray-100 rounded-lg active:scale-95 touch-manipulation",children:(0,s.jsx)(i,{size:18,className:"sm:w-5 sm:h-5"})})]})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-6 sm:pt-8 text-center",children:(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," ",(0,s.jsx)("span",{className:"font-semibold bg-gradient-to-r from-green-600 via-emerald-600 to-lime-600 bg-clip-text text-transparent",children:"Addiscart"}),". All rights reserved."]})})]})})}function m(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)("main",{className:"flex-grow",children:t}),(0,s.jsx)(c,{})]})}},4190:function(e,t,r){"use strict";r.d(t,{H:function(){return u},a:function(){return x}});var s=r(7437),a=r(2265),l=r(605);let n=r(3464).Z.create({baseURL:"http://localhost:5001/api",headers:{"Content-Type":"application/json"},timeout:1e4});n.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;return((null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/auth/login"),(!e.response||e.response.status>=500&&e.response.status<600)&&r&&!r._retry&&(r._retryCount=r._retryCount||0,r._retryCount<2))?(r._retryCount+=1,r._retry=!0,await new Promise(e=>setTimeout(e,1e3*Math.pow(2,r._retryCount))),n(r)):Promise.reject(e)});let o=[{id:"1",name:"Admin User",email:"admin@example.com",phone:"555-123-4567",role:"admin"},{id:"2",name:"Test User",email:"user@example.com",phone:"555-987-6543",role:"customer"},{id:"3",name:"Shopper User",email:"shopper@example.com",phone:"555-456-7890",role:"shopper"}],i=()=>"mock-token-".concat(Math.random().toString(36).substring(2,15)),c=(e,t)=>new Promise((t,r)=>{let s=o.find(t=>t.email===e);s?t({token:i(),user:s}):r(Error("Invalid credentials"))}),m=e=>new Promise((t,r)=>{if(o.find(t=>t.email===e.email)){r(Error("User already exists"));return}let s={id:"".concat(o.length+1),name:e.name,email:e.email,phone:e.phone,role:"customer"};o.push(s),t({token:i(),user:s})}),h=()=>new Promise(e=>{if(!localStorage.getItem("token")){e(null);return}e(o[1])}),d=(0,a.createContext)(void 0),u=e=>{let{children:t}=e,{data:r,status:n}=(0,l.useSession)(),[o,i]=(0,a.useState)(null),[u,x]=(0,a.useState)(null),[g,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("userData"),t=localStorage.getItem("token");if(t&&e)try{let r=JSON.parse(e),s=r.timestamp||0;if(Date.now()-s<6048e5){x(t),i(r.user),f(!1);return}}catch(e){console.error("Error parsing cached user data:",e)}if(t){x(t);try{let e;(e=await h())&&(localStorage.setItem("userData",JSON.stringify({user:e,timestamp:Date.now()})),i(e))}catch(e){console.error("Authentication error:",e),localStorage.removeItem("token"),localStorage.removeItem("userData"),x(null)}}f(!1)};if("loading"===n){f(!0);return}if(null==r?void 0:r.user){i({id:r.user.id||r.user.email||"",name:r.user.name||"",email:r.user.email||"",role:"customer"}),x(r.accessToken||"google-oauth-token"),f(!1);return}e()},[r,n]);let y=(0,a.useCallback)(async(e,t)=>{f(!0);try{{let{token:r,user:s}=await c(e,t);localStorage.setItem("token",r),localStorage.setItem("userData",JSON.stringify({user:s,timestamp:Date.now()})),x(r),i(s)}}catch(e){throw console.error("Login error:",e),e}finally{f(!1)}},[]),p=(0,a.useCallback)(async e=>{f(!0);try{{let{token:t,user:r}=await m(e);localStorage.setItem("token",t),localStorage.setItem("userData",JSON.stringify({user:r,timestamp:Date.now()})),x(t),i(r)}}catch(e){throw console.error("Registration error:",e),e}finally{f(!1)}},[]),j=(0,a.useCallback)(async e=>{f(!0);try{let t={...o,...e};i(t),localStorage.setItem("userData",JSON.stringify({user:t,timestamp:Date.now()}))}catch(e){throw console.error("Profile update error:",e),e}finally{f(!1)}},[o,u]),v=(0,a.useCallback)(async()=>{r&&await (0,l.signOut)({redirect:!1}),localStorage.removeItem("token"),localStorage.removeItem("userData"),localStorage.removeItem("cart"),x(null),i(null),window.location.href="/"},[r]),N=(0,a.useMemo)(()=>({user:o,token:u,isLoading:g,isAuthenticated:!!o,login:y,register:p,logout:v,updateProfile:j}),[o,u,g,y,p,v,j]);return(0,s.jsx)(d.Provider,{value:N,children:t})},x=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(2972),a=r.n(s)},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[972,578,971,117,744],function(){return e(e.s=4760)}),_N_E=e.O()}]);