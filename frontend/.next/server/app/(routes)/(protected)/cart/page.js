(()=>{var e={};e.id=100,e.ids=[100],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},21148:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>m,routeModule:()=>u,tree:()=>c}),t(81349),t(84697),t(99816),t(96560);var r=t(23191),a=t(88716),i=t(37922),o=t.n(i),n=t(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(s,l);let c=["",{children:["(routes)",{children:["(protected)",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,81349)),"/Users/bisratgizaw/Downloads/surf_proj/frontend/app/(routes)/(protected)/cart/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,84697)),"/Users/bisratgizaw/Downloads/surf_proj/frontend/app/(routes)/(protected)/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,99816)),"/Users/bisratgizaw/Downloads/surf_proj/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/bisratgizaw/Downloads/surf_proj/frontend/app/not-found.tsx"]}],m=["/Users/bisratgizaw/Downloads/surf_proj/frontend/app/(routes)/(protected)/cart/page.tsx"],d="/(routes)/(protected)/cart/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(routes)/(protected)/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},17407:(e,s,t)=>{Promise.resolve().then(t.bind(t,28676))},28676:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(10326),a=t(17577),i=t(35047),o=t(63286),n=t(34565),l=t(98091),c=t(11019),m=t(83855),d=t(39183);let x=[{id:"prod1",name:"Organic Bananas",description:"Sweet and nutritious organic bananas, perfect for snacking or baking.",price:.79,salePrice:.69,onSale:!0,image:"https://images.unsplash.com/photo-1543218024-57a70143c369?auto=format&fit=crop&w=300&q=80",category:"Produce",unit:"each",stock:100},{id:"prod2",name:"Avocado",description:"Ripe and ready to eat avocados, perfect for guacamole or toast.",price:1.99,image:"https://images.unsplash.com/photo-1523049673857-eb18f1d7b578?auto=format&fit=crop&w=300&q=80",category:"Produce",unit:"each",stock:50},{id:"prod3",name:"Fresh Strawberries",description:"Juicy and sweet strawberries, perfect for desserts or snacking.",price:4.99,salePrice:3.99,onSale:!0,image:"https://images.unsplash.com/photo-1464965911861-746a04b4bca6?auto=format&fit=crop&w=300&q=80",category:"Produce",unit:"lb",stock:30},{id:"prod4",name:"Whole Milk",description:"Fresh whole milk from local farms.",price:3.49,image:"https://images.unsplash.com/photo-1550583724-b2692b85b150?auto=format&fit=crop&w=300&q=80",category:"Dairy",unit:"gallon",stock:40},{id:"prod5",name:"Organic Eggs",description:"Farm fresh organic eggs, dozen.",price:5.99,image:"https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?auto=format&fit=crop&w=300&q=80",category:"Dairy",unit:"dozen",stock:60}];function u(){let e=(0,i.useRouter)(),{user:s,isAuthenticated:t,isLoading:u}=(0,o.a)(),[p,h]=(0,a.useState)({}),[b,f]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[y,v]=(0,a.useState)(!0),[w,N]=(0,a.useState)(0),k=(e,s)=>{if(s<=0){q(e);return}let t=x.find(s=>s.id===e);if(t&&s>t.stock){alert(`Only ${t.stock} ${t.unit}(s) available in stock`);return}h(t=>({...t,[e]:s}))},q=e=>{h(s=>{let t={...s};return delete t[e],t})};return u||y?r.jsx("div",{className:"flex justify-center items-center h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-500"})}):0===Object.keys(p).length?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[r.jsx(n.Z,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to add items to your cart."}),r.jsx("button",{onClick:()=>e.push("/stores"),className:"bg-brand-500 text-white px-6 py-3 rounded-md hover:bg-brand-600 transition-colors",children:"Browse Stores"})]}):(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Shopping Cart"}),(0,r.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to clear your cart?")&&(h({}),localStorage.removeItem("cart"),localStorage.removeItem("storeId"),f(null),j(null))},className:"text-red-500 hover:text-red-600 text-xs sm:text-sm font-medium flex items-center active:scale-95 touch-manipulation",children:[r.jsx(l.Z,{className:"mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Clear Cart"]})]}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[(0,r.jsxs)("div",{className:"lg:w-2/3",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[g&&(0,r.jsxs)("div",{className:"flex items-center p-4 border-b",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden mr-2 sm:mr-3 flex-shrink-0",children:r.jsx("img",{src:g.logo,alt:g.name,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-sm sm:text-base font-semibold",children:g.name}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Minimum order: $",g.minimumOrder.toFixed(2)]})]})]}),r.jsx("div",{className:"divide-y",children:Object.entries(p).map(([e,s])=>{let t=x.find(s=>s.id===e);if(!t)return null;let a=t.onSale&&t.salePrice||t.price,i=a*s;return r.jsx("div",{className:"p-3 sm:p-4 hover:bg-gray-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-md overflow-hidden mr-3 sm:mr-4 flex-shrink-0",children:r.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-1.5 sm:mb-2",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:t.name}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center mt-0.5 sm:mt-1",children:[(0,r.jsxs)("span",{className:"text-sm sm:text-base text-brand-600 font-medium",children:["$",a.toFixed(2)]}),t.onSale&&(0,r.jsxs)("span",{className:"text-gray-400 line-through ml-2 text-sm",children:["$",t.price.toFixed(2)]}),(0,r.jsxs)("span",{className:"text-gray-500 text-sm ml-2",children:["/ ",t.unit]})]})]}),r.jsx("button",{onClick:()=>q(e),className:"text-red-500 hover:text-red-600 p-1",title:"Remove from cart",children:r.jsx(l.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2 sm:mt-3",children:[(0,r.jsxs)("div",{className:"flex items-center border rounded-md",children:[r.jsx("button",{onClick:()=>k(e,s-1),className:"p-1.5 sm:p-2 hover:bg-gray-100 transition-colors active:scale-95 touch-manipulation",children:r.jsx(c.Z,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),r.jsx("span",{className:"px-3 sm:px-4 py-1.5 sm:py-2 font-medium min-w-[2.5rem] sm:min-w-[3rem] text-center text-sm sm:text-base",children:s}),r.jsx("button",{onClick:()=>k(e,s+1),className:"p-1.5 sm:p-2 hover:bg-gray-100 transition-colors active:scale-95 touch-manipulation",children:r.jsx(m.Z,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]}),r.jsx("div",{className:"text-right",children:(0,r.jsxs)("p",{className:"font-semibold text-base sm:text-lg",children:["$",i.toFixed(2)]})})]})]})]})},e)})})]}),r.jsx("button",{onClick:()=>e.push(b?`/stores/${b}`:"/stores"),className:"mt-3 sm:mt-4 text-brand-500 hover:text-brand-600 font-medium flex items-center text-sm sm:text-base active:scale-95 touch-manipulation",children:"‚Üê Continue Shopping"})]}),r.jsx("div",{className:"lg:w-1/3",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 sticky top-4",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-2 sm:space-y-3 mb-3 sm:mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm sm:text-base",children:[(0,r.jsxs)("span",{className:"text-gray-600",children:["Items (",Object.keys(p).length,")"]}),(0,r.jsxs)("span",{className:"font-medium",children:["$",w.toFixed(2)]})]}),g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,r.jsxs)("span",{className:"text-gray-600",children:["$",g.deliveryFee.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tax (estimated)"}),(0,r.jsxs)("span",{className:"text-gray-600",children:["$",(.0875*w).toFixed(2)]})]})]})]}),r.jsx("div",{className:"border-t pt-3 sm:pt-4 mb-4 sm:mb-6",children:(0,r.jsxs)("div",{className:"flex justify-between font-bold text-base sm:text-lg",children:[r.jsx("span",{children:"Estimated Total"}),(0,r.jsxs)("span",{children:["$",g?(w+g.deliveryFee+.0875*w).toFixed(2):w.toFixed(2)]})]})}),g&&w<g.minimumOrder&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-800",children:["Add $",(g.minimumOrder-w).toFixed(2)," more to reach the minimum order amount"]})}),(0,r.jsxs)("button",{onClick:()=>{if(0===Object.keys(p).length){alert("Your cart is empty");return}if(g&&w<g.minimumOrder){alert(`Minimum order amount is $${g.minimumOrder.toFixed(2)}`);return}e.push("/checkout")},disabled:g&&w<g.minimumOrder,className:"w-full bg-brand-500 text-white py-2.5 sm:py-3 rounded-md hover:bg-brand-600 transition-colors font-medium flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base active:scale-95 touch-manipulation",children:["Proceed to Checkout",r.jsx(d.Z,{className:"ml-2 h-5 w-5"})]}),r.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 text-center mt-3 sm:mt-4",children:"Tax and delivery fee calculated at checkout"})]})})]})]})}},81349:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/bisratgizaw/Downloads/surf_proj/frontend/app/(routes)/(protected)/cart/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,760,534,800],()=>t(21148));module.exports=r})();